var FetchOtherSearchQueriesCommon;(function(n){function tt(){var t=_ge("sp_requery"),n;return t&&(n=t.getElementsByTagName("a"),n.length>0)?(_w.sj_log&&sj_log(o,"SPELL_CORRECTION_PRESENT","sp_requery"),n[0].textContent.trim().toLowerCase()):null}function y(){var t,i=e===null||e===void 0?void 0:e.getElementByClassName(_d.body,"b_searchbox"),n;return!i||i.length<=0?null:(n=(t=i[0])===null||t===void 0?void 0:t.getAttribute("value"),!n||n=="")?null:n.trim().toLowerCase()}function it(){var n=tt();return n||(n=y()),n}function rt(){var n=_ge("b_footer"),t=n&&i?n.getBoundingClientRect().top-i.getBoundingClientRect().bottom:0;return t>=nt}function p(n){var i,t;if(!n)return"";try{for(t=0;t<(n===null||n===void 0?void 0:n.length);t++)(n[t].q||n[t].q!="")&&(n[t].q=encodeURIComponent(n[t].q));i=JSON.stringify(n);i=i===null||i===void 0?void 0:i.replace(/,/g,"%2C")}catch(r){_w.sj_log&&sj_log("CI.Error","MultiTabError",r.toString()+", serializing input: "+(n===null||n===void 0?void 0:n.toString()));throw new Error(r.message);}return i}function u(n){var t,i;if(!n||n=="")return[];n=n===null||n===void 0?void 0:n.replace(/%2C/g,",");try{for(t=JSON.parse(n),i=0;i<(t===null||t===void 0?void 0:t.length);i++)t[i]&&t[i].q&&(t[i].q=decodeURIComponent(t[i].q))}catch(r){_w.sj_log&&sj_log("CI.Error","MultiTabError",r.toString()+", deserializing query string: "+n);throw new Error(r.message);}return t}function f(n,t){if(!n)return-1;for(var i=0;i<(n===null||n===void 0?void 0:n.length);i++)if(n[i].q==t)return i;return-1}function ut(n,t){var i,r;n&&t!=""&&(i=f(n,t),i==-1?(n.length==s&&n.shift(),n.push(new c(t,1))):(r=n.splice(i,1)[0],n.push(new c(r.q,r.c+1))))}function ft(n,t){ut(n,t);h(n)}function et(n,t){if(n&&n.length!=0&&t&&t!=""){var i=f(n,t);i!=-1&&(n[i].c--,n[i].c<=0&&n.splice(i,1))}}function h(n){n&&(n.length==0?sj_cook.clear(t):(sj_cook.set(t,r,p(n),!1,"/",null),sj_cook.set(t,b,n.length.toString(),!1,"/",null)))}function ot(i,f){var o=_w.sj_cook&&sj_cook.get(t,r),e=u(o);et(e,f);h(e);i===null||i===void 0?void 0:i.close();n.unloadHandler&&_w.removeEventListener(a,n.unloadHandler);_w.sj_evt&&sj_evt.unbind(l,n.unloadHandler)}function st(i,f,e){var h=sj_cook.get(t,r),s=u(h);f&&f!=""&&n.unloadHandler&&(ft(s,f),_w.addEventListener(a,n.unloadHandler),_w.sj_evt&&sj_evt.bind(l,n.unloadHandler));(s===null||s===void 0?void 0:s.length)>=e&&i&&n.osqShown&&_w.sj_log&&sj_log(o,"OSQTriggered",s.length.toString())}function w(){if(!v){var t=_ge(k),i=t===null||t===void 0?void 0:t.getBoundingClientRect();n.osqShown&&i&&_w.innerHeight-i.top>d&&(_w.sj_log&&sj_log(o,"InViewPort","1"),_w.sj_ue&&sj_ue(_w,"scroll",w),v=!0)}}function ht(n){for(var l,a=sj_cook.get(t,r),e=u(a),c=[],o=0,i=0;i<(e===null||e===void 0?void 0:e.length)&&o<s;i++)l=f(n,e[i].q),l!=-1&&(c.push(e[i]),n.splice(l,1),o++);for(i=0;i<(n===null||n===void 0?void 0:n.length)&&o<s;i++)c.unshift(n[i]),o++;h(c)}var c=function(){function n(n,t){this.q=n;this.c=t}return n}(),e=Lib.CssClass,t="MULTITAB",o="CI.MultiTabFeature",b="TC",r="SQs",s=8,k="b_othersq",d=130,l="ajax.unload",a="beforeunload";n.osqShown=!1;var i=_ge("b_context"),g=i?i.offsetWidth:0,nt=i&&g>296?160:236,v=!1;n.fetchSearchQuery=y;n.fetchQueryOrSpellCorrection=it;n.isSpaceAvailable=rt;n.serializeOtherSQ=p;n.deserializeOtherSQ=u;n.findQuery=f;n.updateCookieWhileUnload=ot;n.setCookies=st;n.logOtherSqInViewPort=w;n.updateCookiesAfterPageLoad=ht})(FetchOtherSearchQueriesCommon||(FetchOtherSearchQueriesCommon={}))